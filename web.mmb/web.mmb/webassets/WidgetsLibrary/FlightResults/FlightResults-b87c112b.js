var FlightResults=FlightResults||{};web.PubSub.subscribe("FlightResults.UpdateResults",function(){FlightResults.UpdateResults()}),FlightResults.CurrentPage=1,FlightResults.PreviousPage=function(){FlightResults.UpdateResults(FlightResults.CurrentPage-1)},FlightResults.NextPage=function(){FlightResults.UpdateResults(FlightResults.CurrentPage+1)},FlightResults.SelectPage=function(t){FlightResults.UpdateResults(t)},FlightResults.UpdateResults=function(t){t=t||1,FlightResults.CurrentPage=t;var e=!1;int.ff.Call("=iVectorWidgets.FlightResults.UpdateResults",FlightResults.UpdateResultsComplete,t,e)},FlightResults.UpdateResultsComplete=function(t){var e=JSON.parse(t);int.f.SetHTML("divFlightResults",e.FlightResultsHTML),int.f.GetObject("divFlightResultsFooter")&&int.f.SetHTML("divFlightResultsFooter",e.PagingHTML+'<div class="clear"></div>'),int.f.GetObject("divPagingTop")&&int.f.SetHTML("divPagingTop",e.PagingHTML+'<div class="clear"></div>'),int.e.ScrollIntoView("divMain",-1*int.e.GetPosition("divMain").Height,2),void 0!=FlightResults.AttachEvents&&null!=FlightResults.AttachEvents&&FlightResults.AttachEvents()},FlightResults.SelectFlight=function(t){WaitMessage.Show("PreBook"),int.ff.Call("=iVectorWidgets.FlightResults.AddFlightOptionToBasket",FlightResults.SelectFlightComplete,t)},FlightResults.SelectFlightComplete=function(t){if(int.s.StartsWith(t,"Error")){WaitMessage.Hide();var e=t.split("|")[1];web.InfoBox.Show(e)}else web.Window.Redirect(t)},FlightResults.MobileShowDetails=function(t){for(var e=int.f.GetElementsByClassName("div","mobileFlightDetails","divFlightResults"),l=0;l<e.length;l++)int.f.Hide(e[l]);for(var e=int.f.GetElementsByClassName("div","mobileFlightDetails",t),l=0;l<e.length;l++)int.f.Show(e[l])},FlightResults.ShowDetailsPopup=function(t){HotelPopup.ShowPopup(t,!0)},FlightResults.CalculateDuration=function(t,e){function l(t){var e=t%60,l=Math.floor(t/60);return e=(10>e?"0":"")+e,l=(10>l?"0":"")+l,l+" hrs "+e+" mins"}var i=t.split(":"),s=e.split(":"),n=60*int.n.SafeInt(i[0])+int.n.SafeInt(i[1]),u=60*int.n.SafeInt(s[0])+int.n.SafeInt(s[1]),a=u-n;0>a?(a+=1440,int.f.SetHTML("spanToolTipValue",l(a))):int.f.SetHTML("spanToolTipValue",l(a))};