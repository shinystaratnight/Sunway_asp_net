var Basket=new function(){web.PubSub.subscribe("PromoCode.ChangeSuccess",function(){Basket.UpdateBasketHTML()}),this.Setup=function(){for(var t=int.f.GetElementsByClassName("h3","section","divBasket"),e=0;e<t.length;e++)int.f.AttachEvent(t[e],"click",function(){Basket.ToggleSection(this)})},this.UpdateBasketHTML=function(){var t=int.f.GetValue("hidBasketUpdateFunction");void 0==t||""==t?int.ff.Call("=iVectorWidgets.Basket.UpdateBasketHTML",function(t,e){Basket.UpdateBasketHTMLDone(t,e)}):int.ff.Call(t,function(t,e){Basket.UpdateBasketHTMLDone(t,e)})},this.UpdateBasketHTMLDone=function(t){if(void 0==int.f.GetObject("divBasket")){var e=document.createElement("div");e.id="divBasket",e.className="sidebarBox primary clear",e.innerHTML=t,int.f.SetHTML("divSidebar",int.f.GetHTML("divSidebar")+e.outerHTML,!0)}else int.f.SetHTML("divBasket",t,!0)},this.RemoveRoom=function(t){int.ff.Call("=iVectorWidgets.Basket.RemoveRoom",Basket.UpdateBasketHTML,t)},this.ToggleSection=function(t){var e=int.s.Substring(t.id,1),i="div"+e+"_Content";int.f.Toggle(i),int.f.HasClass(t,"hidden")?int.f.RemoveClass(t,"hidden"):int.f.AddClass(t,"hidden")}};