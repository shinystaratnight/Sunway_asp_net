var Transfers=Transfers||{};Transfers.Validate=function(e){if(int.f.GetObject("divTransfers")){for(var t=int.f.GetElementsByClassName("*","error","divTransfers"),r=0;r<t.length;r++)int.f.RemoveClass(t[r],"error");sMobileNumber=int.f.GetValue("txtTransfer_GuestPhoneNumber"),int.f.GetObject("txtTransfer_GuestPhoneNumber")&&!int.cb.Checked("rad_Transfers_0")&&int.f.SetClassIf("txtTransfer_GuestPhoneNumber","error",""==sMobileNumber),int.f.GetObject("txtTransfer_AddOutboundFlightNumber")&&int.f.GetObject("txtTransfer_AddReturnFlightNumber")&&!int.cb.Checked("rad_Transfers_0")?(int.f.SetClassIf("txtTransfer_AddOutboundFlightNumber","error",""==int.f.GetValue("txtTransfer_AddOutboundFlightNumber")),int.f.SetClassIf("txtTransfer_AddReturnFlightNumber","error",""==int.f.GetValue("txtTransfer_AddReturnFlightNumber"))):int.f.GetObject("txtTransfer_AddOneWayFlightNumber")&&!int.cb.Checked("rad_Transfers_0")&&int.f.SetClassIf("txtTransfer_AddOneWayFlightNumber","error",""==int.f.GetValue("txtTransfer_AddOneWayFlightNumber"));var t=int.f.GetElementsByClassName("*","error","divTransfers");0!=t.length||int.cb.Checked("rad_Transfers_0")||void 0==int.f.GetObject("rad_Transfers_0")?0==t.length?Transfers.ValidateComplete(e):web.InfoBox.Show(int.f.GetValue("hidWarning_Invalid"),"warning"):int.ff.Call("=iVectorWidgets.Transfers.UpdateLeadGuest",function(){Transfers.ValidateComplete(e)},sMobileNumber)}else Transfers.ValidateComplete(e)},Transfers.ValidateComplete=function(e){null!=e&&void 0!=e&&e()},Transfers.AddTransfer=function(e,t){var r="",n="",s="",i="";int.f.GetObject("txtTransfer_AddOutboundFlightNumber")?(n=int.f.GetValue("txtTransfer_AddOutboundFlightNumber"),r=int.f.GetValue("txtTransfer_AddReturnFlightNumber"),int.f.SetClassIf("txtTransfer_AddOutboundFlightNumber","error",""==n),int.f.SetClassIf("txtTransfer_AddReturnFlightNumber","error",""==r)):int.f.GetObject("txtTransfer_AddOneWayFlightNumber")?(n=int.f.GetValue("txtTransfer_AddOneWayFlightNumber"),int.f.SetClassIf("txtTransfer_AddOneWayFlightNumber","error",""==n)):"true"==int.f.GetValue("hidValidateFlightDetails")&&(n=int.f.GetValue("txtTransfer_OutboundFlightNumber"),r=int.f.GetValue("txtTransfer_ReturnFlightNumber"),i=int.f.GetValue("txtTransfer_OutboundFlightTime"),s=int.f.GetValue("txtTransfer_ReturnFlightTime"),int.f.SetClassIf("txtTransfer_OutboundFlightNumber","error",""==n),int.f.SetClassIf("txtTransfer_ReturnFlightNumber","error",""==r),int.f.SetClassIf("txtTransfer_OutboundFlightTime","error",""==i||"hh:mm"==i),int.f.SetClassIf("txtTransfer_ReturnFlightTime","error",""==s||"hh:mm"==s));var a=int.f.GetElementsByClassName("*","error","divTransfers");0==a.length?int.ff.Call("=iVectorWidgets.Transfers.AddTransferToBasket",function(e){Transfers.AddTransferComplete(e,t)},e,n,r,s,i):(int.cb.SetValue("rad_Transfers_0",!0),web.InfoBox.Show(int.f.GetValue("hidWarning_Invalid"),"warning"))},Transfers.AddTransferComplete=function(e,t){try{var r=JSON.parse(e);if(r.Success&&""!=r.ResultsHTML)int.f.SetHTML("divTransferOptions",r.ResultsHTML);else if(r.Success){var n=int.f.GetElementsByClassName("tr","transferOption","divTransfers");for(i=0;i<n.length;i++)int.f.RemoveClass(n[i],"selected");int.f.AddClass("tr_Transfers_"+t,"selected")}else if(!r.Success){var n=int.f.GetElementsByClassName("tr","transferOption","divTransfers");for(i=0;i<n.length;i++)int.f.RemoveClass(n[i],"selected");int.cb.SetValue("rad_Transfers_0",!0),int.f.SetClassIf("tr_Transfers_0","selected",!int.f.HasClass("tr_Transfers_0","selected"))}web.InfoBox.Show(r.Warnings,"warning")}catch(s){}Basket.UpdateBasketHTML()},Transfers.AddTransferByButton=function(e,t){var r="",n="";int.f.GetObject("txtTransfer_AddOutboundFlightNumber")&&(n=int.f.GetValue("txtTransfer_AddOutboundFlightNumber"),r=int.f.GetValue("txtTransfer_AddReturnFlightNumber"),int.f.SetClassIf("txtTransfer_AddOutboundFlightNumber","error",""==n),int.f.SetClassIf("txtTransfer_AddReturnFlightNumber","error",""==r));var s=int.f.GetElementsByClassName("*","error","divTransfers");0==s.length?int.ff.Call("=iVectorWidgets.Transfers.AddTransferToBasket",function(e){Transfers.AddTransferCompleteByButton(e,t)},e,r,n):web.InfoBox.Show(int.f.GetValue("hidWarning_Invalid"),"warning")},Transfers.AddTransferCompleteByButton=function(e,t){if("Success"==e){var r=int.f.GetObjectsByIDPrefix("btn_TransferAdd_","input","divTransfers");for(i=0;i<r.length;i++)r[i].id=="btn_TransferAdd_"+t?(int.f.Hide("btn_TransferAdd_"+t),int.f.Show("btn_TransferRemove_"+t),int.f.Show("spnBooked_"+t)):(int.f.Show("btn_TransferAdd_"+(i+1)),int.f.Hide("btn_TransferRemove_"+(i+1)),int.f.Hide("spnBooked_"+(i+1)));"True"==int.f.GetValue("hidShowFlightCodeFields")&&web.InfoBox.Show(int.f.GetValue("hidTransferAddSuccessMessage"),"success")}},Transfers.RemoveTransfer=function(){int.ff.Call("=iVectorWidgets.Transfers.RemoveTransfer",Transfers.RemoveTransferComplete)},Transfers.RemoveTransferComplete=function(sJSON){var oReturn=eval("("+sJSON+")");if("True"==oReturn.OK){"True"==oReturn.UpdateBasket&&Basket.UpdateBasketHTML();var aOptions=int.f.GetElementsByClassName("tr","transferOption","divTransfers");for(i=0;i<aOptions.length;i++)int.f.RemoveClass(aOptions[i],"selected");int.f.AddClass("tr_Transfers_0","selected"),void 0!=int.f.GetObject("txtTransfer_AddOutboundFlightNumber")&&int.f.SetValue("txtTransfer_AddOutboundFlightNumber",""),void 0!=int.f.GetObject("txtTransfer_AddReturnFlightNumber")&&int.f.SetValue("txtTransfer_AddReturnFlightNumber","")}},Transfers.RemoveTransferByButton=function(){int.ff.Call("=iVectorWidgets.Transfers.RemoveTransfer",Transfers.RemoveTransferCompleteByButton)},Transfers.RemoveTransferCompleteByButton=function(sJSON){var oReturn=eval("("+sJSON+")");if("True"==oReturn.OK){var aAddButtons=int.f.GetObjectsByIDPrefix("btn_TransferAdd_","input","divTransfers");for(i=0;i<aAddButtons.length;i++)int.f.Show("btn_TransferAdd_"+(i+1)),int.f.Hide("btn_TransferRemove_"+(i+1)),int.f.Hide("spnBooked_"+(i+1));void 0!=int.f.GetObject("txtTransfer_AddOutboundFlightNumber")&&int.f.SetValue("txtTransfer_AddOutboundFlightNumber",""),void 0!=int.f.GetObject("txtTransfer_AddReturnFlightNumber")&&int.f.SetValue("txtTransfer_AddReturnFlightNumber","")}},Transfers.ChangeSelectedTransfer=function(e,t){int.f.SetValue("hidSelectedHashToken",e),int.f.SetValue("hidSelectedPosition",t);var r=int.f.GetElementsByClassName("tr","transferOption","divTransfers");for(i=0;i<r.length;i++)int.f.RemoveClass(r[i],"selected");int.f.AddClass("tr_Transfers_"+t,"selected")},Transfers.SearchTransfers=function(){int.f.Show("divTransferSearchWait"),int.f.Hide("divTransfers_HotelOnlyFlightDetails");var e={AirportID:int.f.GetValue("hidAirportID"),OutboundArrivalTime:int.f.GetValue("txtTransfer_OutboundFlightTime"),ReturnDepartureTime:int.f.GetValue("txtTransfer_ReturnFlightTime"),OutboundFlightCode:int.f.GetValue("txtTransfer_OutboundFlightNumber"),ReturnFlightCode:int.f.GetValue("txtTransfer_ReturnFlightNumber")};int.ff.Call("=iVectorWidgets.Transfers.SearchTransfers",Transfers.SearchTransfersComplete,JSON.stringify(e))},Transfers.SearchTransfersComplete=function(e){var t=JSON.parse(e);t.Success?(int.f.SetHTML("divTransferOptions",t.HTML),int.f.Hide("divTransferSearchWait"),int.f.Show("divTransferResults")):(int.f.Hide("divTransferSearchWait"),int.f.Show("divTransfers_HotelOnlyFlightDetails"),web.InfoBox.Show(t.Warning,"warning"))},Transfers.PropertyTransferSearch=function(){int.f.Show("divTransferSearchWait"),int.f.Hide("divPropertyTransferSearch");var e={PropertyReferenceID:int.f.GetValue("acpTransferPropertyIDHidden"),ReturnDepartureTime:int.f.GetValue("txtTransfer_ReturnPickupTime")};int.ff.Call("=iVectorWidgets.Transfers.SearchTransfers",Transfers.PropertyTransferSearchComplete,JSON.stringify(e))},Transfers.PropertyTransferSearchComplete=function(e){var t=JSON.parse(e);t.Success?(int.f.SetHTML("divTransferOptions",t.HTML),int.f.Hide("divTransferSearchWait"),int.f.Show("divTransferResults")):(int.f.Hide("divTransferSearchWait"),int.f.Show("divPropertyTransferSearch"))},Transfers.GetProperties=function(e){var t=int.f.GetValue(e);return t.length<3?void web.AutoComplete.AutoSuggestHideContainer(int.f.GetObject(e+"Options")):(web.AutoComplete.Selected=!1,void int.ff.Call("=iVectorWidgets.Transfers.AutoCompletePropertyDropdown",web.AutoComplete.AutoCompleteDisplayResults,t,e))},Transfers.AttachPlaceHolders=function(){int.f.GetObject("acpTransferPropertyID")&&(web.Placeholder.AttachEvents("acpTransferPropertyID",int.f.GetValue("hidPropertyTransferACPPlaceholder")),web.Placeholder.AttachEvents(int.f.GetObject("txtTransfer_ReturnPickupTime"),"hh:mm")),int.f.GetObject("txtTransfer_AddOutboundFlightNumber")&&(web.Placeholder.AttachEvents(int.f.GetObject("txtTransfer_AddOutboundFlightNumber"),int.f.GetValue("hidTransfer_AddOutboundFlightNumberPlaceholder")),web.Placeholder.AttachEvents(int.f.GetObject("txtTransfer_AddReturnFlightNumber"),int.f.GetValue("hidTransfer_AddReturnFlightNumberPlaceholder"))),int.f.GetObject("txtTransfer_OutboundFlightTime")&&(web.Placeholder.AttachEvents(int.f.GetObject("txtTransfer_OutboundFlightTime"),"hh:mm"),web.Placeholder.AttachEvents(int.f.GetObject("txtTransfer_ReturnFlightTime"),"hh:mm"))},Transfers.ChangeAirport=function(e){int.ff.Call("=iVectorWidgets.Transfers.ChangeAirport",function(e){int.f.SetHTML("divTransferOptions",e),int.f.Show("divTransferResults"),Basket.UpdateBasketHTML()},int.dd.GetIntValue(e))};