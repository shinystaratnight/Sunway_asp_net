var FlightExtras=FlightExtras||{};FlightExtras.Update=function(t){web.InfoBox.Close();var i=int.f.GetValue("hidFlightExtraPax"),a=!0,e=0;aFlightExtraTypes=int.f.GetObjectsByIDPrefix("hidFlightExtraToken_","input","divFlightExtras");for(var l={ExtraOptions:[]},r=0;r<=aFlightExtraTypes.length-1;r++){var n=aFlightExtraTypes[r].id.split("_"),h=parseInt(int.f.GetValue("ddlFlightExtraQuantity_"+n[1]),10);if(i>=h){var g={Token:aFlightExtraTypes[r].value,Quantity:h};l.ExtraOptions.push(g);var x=!1;int.f.GetObject("hidPriceFormat")&&"###,##0.00"==int.f.GetValue("hidPriceFormat")&&(x=!0);var f=int.f.GetValue("hidFlightExtraCost_"+n[1]);x?int.f.SetHTML("spFlightExtraTotal_"+n[1],int.n.FormatNumber(f*h,2)):int.f.SetHTML("spFlightExtraTotal_"+n[1],Math.ceil(f*h)),int.f.SetValue("hidFlightExtraQuant_"+n[1],h)}else a=!1,int.f.SetValue("ddlFlightExtraQuantity_"+n[1],int.f.GetValue("ddlFlightExtraQuantity_"+n[1]));"Baggage"==int.f.GetValue("hidFlightExtraType_"+n[1])&&(e+=h)}if(e>i)web.InfoBox.Show(int.f.GetValue("hidFlightExtra_InvalidBaggage"),"warning");else if(a){var d=JSON.stringify(l);int.ff.Call("=iVectorWidgets.FlightExtras.UpdateExtras",function(){Basket.UpdateBasketHTML()},d)}else web.InfoBox.Show(int.f.GetValue("hidFlightExtra_Invalid"),"warning")},FlightExtras.Validate=function(t){if(int.f.GetObject("divFlightExtras")){var i=int.f.GetValue("hidFlightExtraPax"),a=0;aFlightExtraTypes=int.f.GetObjectsByIDPrefix("hidFlightExtraToken_","input","divFlightExtras");for(var e=0;e<=aFlightExtraTypes.length-1;e++){var l=aFlightExtraTypes[e].id.split("_"),r=parseInt(int.f.GetValue("ddlFlightExtraQuantity_"+l[1]),10);"Baggage"==int.f.GetValue("hidFlightExtraType_"+l[1])&&(a+=r)}return a>i?(web.InfoBox.Show(int.f.GetValue("hidFlightExtra_InvalidBaggage"),"warning"),window.scrollTo(0,0),!1):(null!=t&&void 0!=t&&t(),!0)}return null!=t&&void 0!=t&&t(),!0};