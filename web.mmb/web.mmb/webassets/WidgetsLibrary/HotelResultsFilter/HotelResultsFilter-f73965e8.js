var HotelResultsFilter=HotelResultsFilter||{};HotelResultsFilter.HotelNameTimer,HotelResultsFilter.MapView=!1,HotelResultsFilter.HotelNameKeyUp=function(){int.f.GetValue("txtFilterHotelName");HotelResultsFilter.HotelNameTimer&&clearTimeout(HotelResultsFilter.HotelNameTimer),HotelResultsFilter.HotelNameTimer=setTimeout(HotelResultsFilter.Filter,300)},HotelResultsFilter.GetFilterCheckboxes=function(){return int.f.GetObject("divHotelFilter")?int.f.GetObjectsByIDPrefix("chk_","input","divHotelFilter"):new Array},HotelResultsFilter.Setup=function(){for(var t=int.f.GetElementsByClassName("h4","sectionHeader","divHotelFilter"),e=0;e<t.length;e++)int.f.AttachEvent(t[e],"click",function(){HotelResultsFilter.ToggleSection(HotelResultsFilter())});web.Placeholder.AttachEvents("txtFilterHotelName",int.f.GetValue("txtFilterHotelName_Placeholder"));for(var i=HotelResultsFilter.GetFilterCheckboxes(),e=0;e<i.length;e++)int.s.StartsWith(i[e].id,"chk_l_")?int.f.AttachEvent(i[e],"click",function(){HotelResultsFilter.ToggleLandmarks(this)}):int.f.AttachEvent(i[e],"click",HotelResultsFilter.Filter);int.f.GetObject("ddlLandmarkDuration")&&int.f.AttachEvent("ddlLandmarkDuration","change",HotelResultsFilter.Filter),int.f.GetObject("ddlLandmark")&&int.f.AttachEvent("ddlLandmark","change",HotelResultsFilter.Filter)},HotelResultsFilter.SetBestSeller=function(t){int.f.SetValue("hidBestSeller","true"),t=void 0==t?!0:t,t&&HotelResultsFilter.Filter()},HotelResultsFilter.ClearBestSeller=function(t){int.f.SetValue("hidBestSeller","false"),t=void 0==t?!0:t,t&&HotelResultsFilter.Filter()},HotelResultsFilter.ToggleLandmarks=function(t){if(!t.checked){var e=$("label[for="+t.id+"]");e.removeClass("selected")}for(var i=t.id.split("_")[2],l=int.f.GetObjectsByIDPrefix("chk_l","input","divHotelFilter"),r=0;r<l.length;r++){if(!int.s.StartsWith(l[r].id,"chk_l_"+i)){l[r].checked=!1;var e=$("label[for="+l[r].id+"]");e.removeClass("selected")}if(l[r].checked){var e=$("label[for="+l[r].id+"]");e.addClass("selected")}}HotelResultsFilter.Filter()},HotelResultsFilter.Filter=function(){HotelResultsFilter.MapView||HotelResults.ShowLoadingMessage();for(var t=new Array,e=new Array,i=new Array,l=new Array,r=new Array,n=new Array,s=new Array,a=0,o=HotelResultsFilter.GetFilterCheckboxes(),u=0;u<o.length;u++)o[u].checked&&(iID=o[u].id.split("_")[2],int.s.StartsWith(o[u].id,"chk_r_")&&t.push(iID),int.s.StartsWith(o[u].id,"chk_ta_")&&e.push(iID),int.s.StartsWith(o[u].id,"chk_mb_")&&i.push(iID),int.s.StartsWith(o[u].id,"chk_f_")&&l.push(iID),int.s.StartsWith(o[u].id,"chk_pa_")&&r.push(iID),int.s.StartsWith(o[u].id,"chk_g3_")&&n.push(iID),int.s.StartsWith(o[u].id,"chk_pt_")&&s.push(iID),int.s.StartsWith(o[u].id,"chk_l_")&&"chk_l_0"!=o[u].id&&(a=iID),int.s.StartsWith(o[u].id,"chk_ta_")&&(S=iID));var f=int.f.GetValue("sldPrice_MinValue"),d=int.f.GetValue("sldPrice_MaxValue"),c=int.f.GetValue("txtFilterHotelName")!=int.f.GetValue("txtFilterHotelName_Placeholder")?int.f.GetValue("txtFilterHotelName"):"",F=int.f.GetValue("hidBestSeller"),S=int.f.GetValue("sldAverageRating_MinValue"),h=int.f.GetValue("sldAverageRating_MaxValue");0==h&&(h=10);var H=0;H=int.f.GetValue(int.f.GetObject("sldLandmark")?"sldLandmark_MaxValue":"ddlLandmarkDuration"),int.f.GetObject("ddlLandmark")&&(a=int.dd.GetValue("ddlLandmark")),int.ff.Call("=iVectorWidgets.HotelResultsFilter.FilterResults",HotelResultsFilter.FilterComplete,int.s.ArrayToCSV(t),int.s.ArrayToCSV(e),int.s.ArrayToCSV(i),int.s.ArrayToCSV(l),int.s.ArrayToCSV(n),int.s.ArrayToCSV(r),f,d,c,F,S,h,a,H,int.s.ArrayToCSV(s))},HotelResultsFilter.FilterComplete=function(sJSON){var oFilters=eval("("+sJSON+")");HotelResultsFilter.UpdateFilterOptions(oFilters),HotelResultsFilter.MapView?Map.CreateMapFromFilteredHotels():("undefined"!=typeof SearchSummary&&SearchSummary.UpdatePaging(),"undefined"!=typeof HotelResults&&HotelResults.UpdateResults(),"undefined"!=typeof HotelResultsFooter&&HotelResultsFooter.Update()),"undefined"!=typeof SearchSummary&&SearchSummary.Update()},HotelResultsFilter.UpdateFilter=function(){int.ff.Call("=iVectorWidgets.HotelResultsFilter.UpdateFilter",HotelResultsFilter.UpdateFilterComplete)},HotelResultsFilter.UpdateFilterComplete=function(sJSON){var oFilters=eval("("+sJSON+")");HotelResultsFilter.UpdateFilterOptions(oFilters)},HotelResultsFilter.UpdateFilterOptions=function(t){var e=int.f.SafeObject("sldPrice_CurrencySymbol"),i=int.f.SafeObject("sldPrice_CurrencySymbolPosition"),l=int.f.SafeObject("sldPrice_MinValue"),r=int.f.SafeObject("sldPrice_MaxValue"),n=int.f.SafeObject("sldPrice_DisplayValueDivide"),s=null==n?1:n.value;if(null!=l&&null!=r&&null!=e&&null!=i){var a=int.n.FormatMoney(Math.floor(l.value/s),e.value,i.value);a=a.substring(0,a.indexOf("."));var o=int.n.FormatMoney(Math.floor(r.value/s),e.value,i.value);o=o.substring(0,o.indexOf("."));var u=null==n?"":"pp";int.f.SetHTML("sldPrice_Start","<span>"+a+u+"</span>"),int.f.SetHTML("sldPrice_End","<span>"+o+u+"</span>")}for(var f=int.f.GetObjectsByIDPrefix("spn_r_count_","span","divHotelFilter"),d=0;d<f.length;d++)for(var c=0;c<t.Ratings.length;c++)if(int.f.SetHTML(f[d],"0"),int.n.SafeNumeric(t.Ratings[c].Rating)==int.n.SafeNumeric(f[d].id.split("_")[3])){int.f.SetHTML(f[d],int.n.SafeInt(t.Ratings[c].Count));break}for(var F=int.f.GetObjectsByIDPrefix("spn_g3_count_","span","divHotelFilter"),d=0;d<F.length;d++)for(var c=0;c<t.Resorts.length;c++)if(int.f.SetHTML(F[d],"0"),int.n.SafeNumeric(t.Resorts[c].GeographyLevel3ID)==int.n.SafeNumeric(F[d].id.split("_")[3])){int.f.SetHTML(F[d],int.n.SafeInt(t.Resorts[c].Count));break}for(var S=int.f.GetObjectsByIDPrefix("spn_mb_count_","span","divHotelFilter"),d=0;d<S.length;d++)for(var c=0;c<t.MealBases.length;c++)if(int.f.SetHTML(S[d],"0"),int.n.SafeNumeric(t.MealBases[c].MealBasisID)==int.n.SafeNumeric(S[d].id.split("_")[3])){int.f.SetHTML(S[d],int.n.SafeInt(t.MealBases[c].Count));break}for(var h=int.f.GetObjectsByIDPrefix("spn_f_count_","span","divHotelFilter"),d=0;d<h.length;d++)for(var c=0;c<t.FilterFacilities.length;c++)if(int.f.SetHTML(h[d],"0"),int.n.SafeNumeric(t.FilterFacilities[c].Priority)==int.n.SafeNumeric(h[d].id.split("_")[3])){int.f.SetHTML(h[d],int.n.SafeInt(t.FilterFacilities[c].Count));break}for(var H=int.f.GetObjectsByIDPrefix("spn_ta_count_","span","divHotelFilter"),d=0;d<H.length;d++)for(var c=0;c<t.TripAdvisorRatings.TripAdvisorRatings.length;c++)if(int.f.SetHTML(H[d],"0"),int.n.SafeNumeric(t.TripAdvisorRatings.TripAdvisorRatings[c].Rating)==int.n.SafeNumeric(H[d].id.split("_")[3])){int.f.SetHTML(H[d],int.n.SafeInt(t.TripAdvisorRatings.TripAdvisorRatings[c].Count));break}for(var p=int.f.GetObjectsByIDPrefix("spn_pa_count_","span","divHotelFilter"),d=0;d<p.length;d++)for(var c=0;c<t.ProductAttributes.length;c++)if(int.f.SetHTML(p[d],"0"),int.n.SafeNumeric(t.ProductAttributes[c].ProductAttributeID)==int.n.SafeNumeric(p[d].id.split("_")[3])){int.f.SetHTML(p[d],int.n.SafeInt(t.ProductAttributes[c].Count));break}},HotelResultsFilter.ToggleSection=function(t){var e=int.s.Substring(t.id,1),i="div"+e+"_Content";int.f.Toggle(i),int.f.HasClass(t,"hidden")?int.f.RemoveClass(t,"hidden"):int.f.AddClass(t,"hidden")};